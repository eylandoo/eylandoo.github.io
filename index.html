<!DOCTYPE html>

<html class="scroll-smooth overflow-x-hidden" dir="rtl" lang="fa">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<title>مستندات جامع OpenVPN Manager API | v3.0.0</title>
<meta content="Complete, bilingual API reference for OpenVPN Manager Panel V2 (Multi-Protocol)" name="description"/>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Fira+Code:wght@400;500;600&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Vazirmatn', 'Inter', 'sans-serif'],
                        mono: ['Fira Code', 'Consolas', 'Monaco', 'monospace'],
                    },
                    colors: {
                        brand: {
                            50: '#eff6ff', 100: '#dbeafe', 200: '#bfdbfe', 300: '#93c5fd',
                            400: '#60a5fa', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8',
                            800: '#1e40af', 900: '#1e3a8a', 950: '#172554',
                        },
                        night: {
                            800: '#1e293b', 900: '#0f172a', 950: '#020617'
                        },
                        accent: {
                            teal: '#14b8a6', purple: '#8b5cf6', pink: '#ec4899', orange: '#f97316'
                        }
                    },
                    zIndex: {
                        '60': '60',
                        '100': '100',
                    }
                }
            }
        }
    </script>
<style>
        html, body { overflow-x: hidden; width: 100%; max-width: 100vw; }
        html { scroll-padding-top: 100px; }
        
        body { 
            background-color: #f8fafc; 
            color: #334155; 
            transition: background-color 0.3s, color 0.3s;
        }
        .dark body { 
            background-color: #020617;
            color: #e2e8f0; 
            background-image: 
                radial-gradient(at 10% 10%, rgba(59, 130, 246, 0.15) 0px, transparent 40%),
                radial-gradient(at 90% 90%, rgba(20, 184, 166, 0.1) 0px, transparent 40%);
            background-attachment: fixed;
        }

        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .dark ::-webkit-scrollbar-thumb { background: #334155; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        body[data-lang="fa"] { font-family: 'Vazirmatn', sans-serif; }
        body[data-lang="en"] { font-family: 'Inter', sans-serif; letter-spacing: -0.01em; }
        
        body[data-lang="fa"] .lang-en { display: none !important; }
        body[data-lang="en"] .lang-fa { display: none !important; }

        body[dir="rtl"] .mr-auto { margin-right: auto; margin-left: 0; }
        body[dir="ltr"] .mr-auto { margin-left: auto; margin-right: 0; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }
        .dark .glass-panel {
            background: rgba(15, 23, 42, 0.65);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        #mobile-overlay {
            position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px); z-index: 90; opacity: 0; visibility: hidden; transition: all 0.3s ease;
        }
        #mobile-overlay.active { opacity: 1; visibility: visible; }

        #sidebar {
            border-right: 1px solid transparent; border-left: 1px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @media (max-width: 1023px) {
            #sidebar {
                position: fixed; top: 0; right: 0; bottom: 0; width: 85%; max-width: 320px;
                background: #ffffff; z-index: 100; transform: translateX(100%);
                box-shadow: -10px 0 25px rgba(0,0,0,0.2); overflow-y: auto; border-left: 1px solid #e2e8f0;
            }
            html[dir="ltr"] #sidebar {
                left: 0; right: auto; transform: translateX(-100%); border-left: none; border-right: 1px solid #e2e8f0;
            }
            .dark #sidebar { background: #0f172a; border-color: #1e293b; }
            #sidebar.mobile-open { transform: translateX(0) !important; }
            body.menu-open { overflow: hidden; }
        }

        @media (min-width: 1024px) {
            #sidebar {
                position: sticky; top: 6rem; height: calc(100vh - 6rem); width: 18rem;
                transform: none !important; background: transparent !important; box-shadow: none !important;
                z-index: 30; overflow-y: auto; padding-bottom: 2rem;
            }
        }

        .param-card {
            display: grid; grid-template-columns: 1fr; gap: 0.5rem; padding: 1rem;
            border-radius: 0.75rem; background: rgba(248, 250, 252, 0.8); border: 1px solid transparent;
            transition: all 0.2s ease;
        }
        .dark .param-card { background: rgba(30, 41, 59, 0.4); }
        @media (min-width: 768px) {
            .param-card { grid-template-columns: 200px 100px 140px 1fr; align-items: start; gap: 1rem; }
        }

        .method-badge {
            font-family: 'Fira Code', monospace; font-weight: 800; letter-spacing: 0.05em;
            padding: 0.3rem 0.7rem; border-radius: 0.5rem; font-size: 0.75rem; text-transform: uppercase; display: inline-flex; align-items: center;
        }
        .method-get { background: rgba(59, 130, 246, 0.15); color: #3b82f6; border: 1px solid rgba(59, 130, 246, 0.3); }
        .method-post { background: rgba(16, 185, 129, 0.15); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.3); }
        .method-put { background: rgba(249, 115, 22, 0.15); color: #f97316; border: 1px solid rgba(249, 115, 22, 0.3); }
        .method-delete { background: rgba(239, 68, 68, 0.15); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3); }

        pre[class*="language-"] {
            direction: ltr !important; text-align: left !important; border-radius: 0.75rem !important; margin: 0 !important;
            background: #0f172a !important; border: 1px solid #1e293b; font-size: 0.85rem !important; line-height: 1.5 !important;
        }
        code { font-family: 'Fira Code', monospace !important; }

        .nav-link { border-left: 3px solid transparent; border-right: 3px solid transparent; transition: all 0.2s; }
        body[dir="rtl"] .nav-link.active { background: linear-gradient(270deg, rgba(59, 130, 246, 0.12) 0%, transparent 100%); color: #3b82f6; border-right-color: #3b82f6; }
        body[dir="ltr"] .nav-link.active { background: linear-gradient(90deg, rgba(59, 130, 246, 0.12) 0%, transparent 100%); color: #3b82f6; border-left-color: #3b82f6; }
        .dark body[dir="rtl"] .nav-link.active, .dark body[dir="ltr"] .nav-link.active { color: #60a5fa; border-color: #60a5fa; }
        .animate-fade-in-up { animation: fadeInUp 0.6s ease-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</link></link></head>
<body class="antialiased selection:bg-brand-500/30 selection:text-brand-900 dark:selection:text-brand-100" data-lang="fa" dir="rtl">
<div aria-hidden="true" id="mobile-overlay"></div>
<header class="fixed top-0 w-full z-40 glass-panel shadow-sm transition-all duration-300">
<div class="max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex justify-between items-center h-16 md:h-20">
<div class="flex items-center gap-4">
<button class="lg:hidden p-2 text-slate-600 hover:text-brand-600 transition-colors rounded-lg hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5 z-50" id="mobile-menu-btn">
<i class="fa-solid fa-bars text-xl"></i>
</button>
<div class="flex items-center gap-3 group cursor-pointer">
<div class="w-10 h-10 md:w-11 md:h-11 bg-gradient-to-tr from-brand-600 to-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-500/20">
<i class="fa-solid fa-server text-lg"></i>
</div>
<div class="flex flex-col">
<span class="font-bold text-lg md:text-xl tracking-tight text-slate-800 dark:text-white">
                                OpenVPN<span class="text-brand-500">Manager</span>
</span>
<span class="text-[10px] font-mono uppercase tracking-widest text-slate-400 dark:text-slate-500 hidden sm:inline-block">API v3.0.0 (Multi-Protocol)</span>
</div>
</div>
</div>
<div class="flex items-center gap-2 sm:gap-3">
<div class="hidden md:flex items-center gap-2 px-3 py-1.5 bg-slate-100/80 dark:bg-night-800/80 backdrop-blur-sm rounded-full border border-slate-200 dark:border-slate-700/50 ml-2">
<span class="relative flex h-2.5 w-2.5">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
<span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"></span>
</span>
<span class="text-xs font-bold text-slate-600 dark:text-slate-300 font-mono tracking-wide">ONLINE</span>
</div>
<button class="flex items-center gap-2 px-3 py-2 rounded-xl bg-white dark:bg-night-800 hover:bg-slate-50 dark:hover:bg-night-700 border border-slate-200 dark:border-slate-700 transition-all shadow-sm" id="lang-toggle">
<span class="text-xs font-extrabold text-slate-700 dark:text-slate-200 w-5 text-center lang-text">EN</span>
</button>
<button class="w-10 h-10 rounded-xl bg-white dark:bg-night-800 hover:bg-slate-50 dark:hover:bg-night-700 text-slate-500 dark:text-yellow-400 border border-slate-200 dark:border-slate-700 transition-all flex items-center justify-center shadow-sm" id="theme-toggle">
<i class="fa-solid fa-sun text-lg dark:hidden"></i>
<i class="fa-solid fa-moon text-lg hidden dark:block"></i>
</button>
</div>
</div>
</div>
</header>
<div class="flex max-w-[1800px] mx-auto pt-20 lg:pt-24 pb-12 px-4 sm:px-6 lg:px-8 gap-8 relative min-h-screen">
<aside id="sidebar">
<div class="lg:hidden flex items-center justify-between p-5 border-b border-slate-100 dark:border-slate-800/50 mb-2">
<span class="font-bold text-slate-700 dark:text-white text-lg">
<span class="lang-fa">فهرست</span><span class="lang-en">Menu</span>
</span>
<button class="w-8 h-8 rounded-full bg-slate-100 dark:bg-white/10 flex items-center justify-center text-slate-500 dark:text-slate-300 hover:bg-red-100 hover:text-red-500 transition-colors" id="close-sidebar">
<i class="fa-solid fa-xmark"></i>
</button>
</div>
<div class="space-y-8 px-3 py-4 lg:p-0">
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2">
<i class="fa-solid fa-rocket text-brand-500"></i>
<span class="lang-fa">شروع کار</span><span class="lang-en">Getting Started</span>
</h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#intro"><span class="w-1.5 h-1.5 rounded-full bg-slate-300 dark:bg-slate-600 group-hover:bg-brand-500 transition-colors"></span><span class="lang-fa">معرفی</span><span class="lang-en">Introduction</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#auth"><span class="w-1.5 h-1.5 rounded-full bg-slate-300 dark:bg-slate-600 group-hover:bg-brand-500 transition-colors"></span><span class="lang-fa">احراز هویت</span><span class="lang-en">Authentication</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#status"><span class="w-1.5 h-1.5 rounded-full bg-slate-300 dark:bg-slate-600 group-hover:bg-brand-500 transition-colors"></span><span class="lang-fa">وضعیت سیستم</span><span class="lang-en">System Status</span></a></li>
</ul>
</div>
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2">
<i class="fa-solid fa-users text-brand-500"></i>
<span class="lang-fa">مدیریت کاربران</span><span class="lang-en">User Management</span>
</h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-list"><span class="text-[10px] font-mono text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-1.5 rounded border border-blue-100 dark:border-blue-800">GET</span><span class="lang-fa">لیست کاربران</span><span class="lang-en">List Users</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-create"><span class="text-[10px] font-mono text-green-500 bg-green-50 dark:bg-green-900/30 px-1.5 rounded border border-green-100 dark:border-green-800">POST</span><span class="lang-fa">ایجاد کاربر</span><span class="lang-en">Create User</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-get"><span class="text-[10px] font-mono text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-1.5 rounded border border-blue-100 dark:border-blue-800">GET</span><span class="lang-fa">دریافت اطلاعات</span><span class="lang-en">Get User Info</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-edit"><span class="text-[10px] font-mono text-orange-500 bg-orange-50 dark:bg-orange-900/30 px-1.5 rounded border border-orange-100 dark:border-orange-800">PUT</span><span class="lang-fa">ویرایش کاربر</span><span class="lang-en">Edit User</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-actions"><span class="text-[10px] font-mono text-green-500 bg-green-50 dark:bg-green-900/30 px-1.5 rounded border border-green-100 dark:border-green-800">POST</span><span class="lang-fa">عملیات کنترلی</span><span class="lang-en">Control Actions</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all group" href="#users-delete"><span class="text-[10px] font-mono text-red-500 bg-red-50 dark:bg-red-900/30 px-1.5 rounded border border-red-100 dark:border-red-800">DEL</span><span class="lang-fa">حذف کاربر</span><span class="lang-en">Delete User</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-sub"><span class="text-[10px] font-mono text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-1.5 rounded border border-blue-100 dark:border-blue-800">GET</span><span class="lang-fa">لینک اشتراک</span><span class="lang-en">Subscription Link</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#users-ovpn"><span class="text-[10px] font-mono text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-1.5 rounded border border-blue-100 dark:border-blue-800">GET</span><span class="lang-fa">تمام لینک‌ها (OVPN/Multi)</span><span class="lang-en">All Download Links</span></a></li>
</ul>
</div>
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2"><i class="fa-solid fa-server text-brand-500"></i><span class="lang-fa">نودها و پورت‌ها</span><span class="lang-en">Nodes &amp; Ports</span></h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#nodes-list"><span class="lang-fa">مدیریت نودها</span><span class="lang-en">Nodes</span></a></li>
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#ports-list"><span class="lang-fa">مدیریت پورت‌ها</span><span class="lang-en">Ports</span></a></li><li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#ports-servers"><span class="lang-fa">GET سرورها برای پورت‌ها</span><span class="lang-en">GET Servers for Ports</span></a></li>
</ul>
</div>
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2"><i class="fa-solid fa-users-gear text-brand-500"></i><span class="lang-fa">نمایندگان</span><span class="lang-en">Sub-Admins</span></h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#subadmins-list"><span class="lang-fa">مدیریت نمایندگان</span><span class="lang-en">Manage Sub-Admins</span></a></li>
</ul>
</div>
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2">
<i class="fa-solid fa-gears text-brand-500"></i>
<span class="lang-fa">تنظیمات سیستم</span><span class="lang-en">System Settings</span>
</h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#server-settings"><span class="lang-fa">تنظیمات سرور (PSK)</span><span class="lang-en">Server Config (PSK)</span></a></li>
</ul>
</div>
<div>
<h5 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 px-4 flex items-center gap-2"><i class="fa-solid fa-robot text-brand-500"></i><span class="lang-fa">API ربات</span><span class="lang-en">Bot API</span></h5>
<ul class="space-y-1">
<li><a class="nav-link flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-xl text-slate-600 dark:text-slate-300 hover:bg-brand-50 dark:hover:bg-white/5 transition-all group" href="#bot-servers"><span class="lang-fa">لیست سرورها</span><span class="lang-en">Server List</span></a></li>
</ul>
</div>
</div>
</aside>
<main class="flex-1 min-w-0 w-full">
<section class="mb-20 scroll-mt-32 animate-fade-in-up" id="intro">
<div class="relative overflow-hidden rounded-3xl bg-gradient-to-br from-night-800 to-night-900 text-white shadow-2xl border border-slate-700/50 p-6 md:p-12">
<div class="absolute top-0 right-0 w-64 md:w-96 h-64 md:h-96 bg-brand-500/10 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"></div>
<div class="absolute bottom-0 left-0 w-48 md:w-64 h-48 md:h-64 bg-accent-purple/10 rounded-full blur-3xl -ml-20 -mb-20 pointer-events-none"></div>
<div class="relative z-10">
<div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 text-brand-300 text-xs font-mono mb-6 backdrop-blur-sm">
<span class="w-2 h-2 bg-brand-400 rounded-full animate-pulse"></span>
                            v3.0.0 Stable (Multi-Protocol)
                        </div>
<h1 class="text-3xl md:text-5xl lg:text-6xl font-extrabold mb-6 tracking-tight leading-tight">
<span class="lang-fa">مستندات فنی <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-brand-200">API</span></span>
<span class="lang-en">Technical <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-brand-200">API</span> Docs</span>
</h1>
<p class="text-base md:text-lg text-slate-300 leading-relaxed max-w-3xl mb-10 lang-fa">
                            راهنمای کامل نسخه 3.۰.۰ با پشتیبانی از <strong>چند پروتکل (OpenVPN, L2TP, Cisco, WireGuard AnyConnect)</strong>.
                            کنترل کامل بر روی کاربران، نودهای توزیع شده، پورت‌های اختصاصی و سیستم نمایندگی پیشرفته.
                        </p>
<p class="text-base md:text-lg text-slate-300 leading-relaxed max-w-3xl mb-10 lang-en">
                            Complete guide for v3.0.0 supporting <strong>Multi-Protocols (OpenVPN, L2TP, Cisco, WireGuard AnyConnect)</strong>.
                            Full control over users, distributed nodes, custom ports, and advanced reseller system.
                        </p>
<div class="flex flex-col sm:flex-row gap-4">
<div class="flex items-center gap-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl px-5 py-4 hover:bg-white/10 transition-colors group cursor-pointer">
<div class="w-10 h-10 rounded-lg bg-brand-500/20 flex items-center justify-center text-brand-400 group-hover:scale-110 transition-transform">
<i class="fa-solid fa-link"></i>
</div>
<div class="min-w-0">
<div class="text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1">Base URL</div>
<code class="font-mono text-brand-100 text-sm truncate block">https://your-domain.com:PORT</code>
</div>
</div>
<div class="flex items-center gap-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl px-5 py-4 hover:bg-white/10 transition-colors group">
<div class="w-10 h-10 rounded-lg bg-accent-purple/20 flex items-center justify-center text-accent-purple group-hover:scale-110 transition-transform">
<i class="fa-solid fa-shield-halved"></i>
</div>
<div>
<div class="text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1">Protocols</div>
<code class="font-mono text-accent-100 text-sm">OVPN / L2TP / CISCO / WG1</code>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="auth">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-brand-100 dark:bg-brand-900/20 flex items-center justify-center text-brand-600 dark:text-brand-400 shadow-sm">
<i class="fa-solid fa-key text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">احراز هویت</span><span class="lang-en">Authentication</span>
</h2>
</div>
</div>
<div class="glass-panel rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 dark:border-slate-800">
<p class="text-slate-600 dark:text-slate-300 mb-4 leading-loose lang-fa">
                        تمام درخواست‌ها نیازمند هدر <code class="text-pink-600 bg-pink-50 dark:bg-pink-900/30 px-1.5 py-0.5 rounded text-xs font-bold border border-pink-200 dark:border-pink-800">X-API-KEY</code> هستند.
                    </p>
<p class="text-slate-600 dark:text-slate-300 mb-4 leading-loose lang-en">
                         All requests require the <code class="text-pink-600 bg-pink-50 dark:bg-pink-900/30 px-1.5 py-0.5 rounded text-xs font-bold border border-pink-200 dark:border-pink-800">X-API-KEY</code> header.
                    </p>
<div class="bg-night-900 rounded-xl border border-slate-800 overflow-hidden">
<div class="p-4 overflow-x-auto">
<pre class="language-bash !bg-transparent !border-none !m-0 !p-0"><code class="!text-sm !font-mono">X-API-KEY: y0ur_s3cur3_ap1_k3y_h3r3
Content-Type: application/json</code></pre>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="status">
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm"><span class="method-badge method-get">GET</span><span class="font-bold">/api/v1/status</span></div>
</div>
<div class="p-6">
<pre class="language-json !bg-night-950 !border-none !m-0 !p-3 !text-xs"><code>{ "success": true, "message": "Panel is online", "timestamp": "2024-01-01T12:00:00.000000" }</code></pre>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="users">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-brand-500 shadow-sm shadow-brand-500/10">
<i class="fa-solid fa-users text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">مدیریت کاربران</span><span class="lang-en">User Management</span>
</h2>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="users-list">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/list_all</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست کامل کاربران. اگر کلید شما <strong>ادمین اصلی</strong> باشد، علاوه‌بر کاربران، ساختار نمایندگان (sub-admins) هم برگردانده می‌شود. اگر کلید شما متعلق به نماینده باشد، فقط کاربران همان نماینده برگردانده می‌شوند.</span>
<span class="lang-en">List users. With a <strong>main admin</strong> key, it returns main-admin users plus sub-admins structure. With a <strong>sub-admin</strong> key, it returns only that sub-admin’s users.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: هر دو نقش (main_admin / sub_admin) — خروجی بر اساس نقش متفاوت است.</span>
<span class="lang-en">Access: both roles (main_admin / sub_admin) — response shape differs by role.</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">(Main Admin) دریافت لیست کامل</span>
<span class="lang-en">(Main Admin) Full list</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/list_all" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "main_admin": {
    "users": [
      {
        "username": "user1"
      }
    ]
  },
  "sub_admins": [
    {
      "id": 1,
      "username": "sa1",
      "users": [
        {
          "username": "sa_user1"
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">(Sub-Admin) فقط کاربران همان نماینده</span>
<span class="lang-en">(Sub-Admin) Only sub-admin users</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/list_all" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "users": [
    {
      "username": "sa_user1"
    },
    {
      "username": "sa_user2"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای نبودن API Key</span>
<span class="lang-en">Missing API key error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/list_all" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "API key is missing"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="mb-20" id="users-create">
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ایجاد کاربر (تکی یا گروهی/Bulk). در حالت Bulk با ارسال <code>bulk_count</code> چند کاربر با نام‌های رند ساخته می‌شود. اگر کلید sub-admin باشد، محدودیت تعداد کاربران و سهمیه ترافیک نماینده اعمال می‌شود و <code>sub_admin_id</code> نادیده گرفته می‌شود.</span>
<span class="lang-en">Create user(s) (Single or Bulk). In Bulk mode, send <code>bulk_count</code> to create random usernames. With a sub-admin key, user-count and quota limits apply and <code>sub_admin_id</code> is ignored.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (با محدودیت‌های sub_admin).</span>
<span class="lang-en">Access: main_admin and sub_admin (sub_admin has limits).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400">Conditional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری برای حالت تکی. اگر <code>bulk_count</code> ارسال نشده باشد، اجباری است.</span>
<span class="lang-en">Username for single mode. Required if <code>bulk_count</code> is not provided.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">bulk_count</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">تعداد کاربران برای ساخت گروهی. اگر &gt; 0 باشد حالت Bulk فعال می‌شود.</span>
<span class="lang-en">Number of users to create in bulk. If &gt; 0, bulk mode is used.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">sub_admin_id</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فقط برای main_admin: انتساب کاربر(ها) به یک نماینده. با کلید sub-admin نادیده گرفته می‌شود.</span>
<span class="lang-en">Main-admin only: assign user(s) to a sub-admin. Ignored for sub-admin keys.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">max_clients</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">حداکثر اتصال همزمان. پیش‌فرض: 1</span>
<span class="lang-en">Max simultaneous clients. Default: 1</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">data_limit</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف ترافیک عددی. اگر ارسال نشود یا عدد نباشد، نامحدود در نظر گرفته می‌شود.</span>
<span class="lang-en">Traffic limit (number). If missing or non-numeric, treated as unlimited.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">data_limit_unit</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">واحد سقف ترافیک. پیش‌فرض: GB</span>
<span class="lang-en">Data limit unit. Default: GB</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">notes</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">یادداشت داخلی.</span>
<span class="lang-en">Internal notes.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">nodes</div>
<div class="text-xs text-slate-500">Array[String|Int]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">لیست شناسه/نام نودهای مجاز (در دیتابیس به‌صورت CSV ذخیره می‌شود).</span>
<span class="lang-en">Allowed node identifiers list (stored as CSV in DB).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">activation_type</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نوع فعال‌سازی: <code>fixed_date</code> (پیش‌فرض) یا <code>flexible_days</code>.</span>
<span class="lang-en">Activation type: <code>fixed_date</code> (default) or <code>flexible_days</code>.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">pending_activation_days</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400">Conditional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فقط برای <code>flexible_days</code>: تعداد روز بعد از اولین اتصال.</span>
<span class="lang-en">Only for <code>flexible_days</code>: days after first connection.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_date_str</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">برای <code>fixed_date</code>: تاریخ انقضا (YYYY-MM-DD).</span>
<span class="lang-en">For <code>fixed_date</code>: expiry date (YYYY-MM-DD).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_days</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">برای <code>fixed_date</code>: تعداد روز از الان (اگر <code>expiry_date_str</code> نبود).</span>
<span class="lang-en">For <code>fixed_date</code>: days from now (if <code>expiry_date_str</code> not set).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_l2tp</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال‌سازی L2TP برای کاربر. پیش‌فرض: false</span>
<span class="lang-en">Enable L2TP for user. Default: false</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">l2tp_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز L2TP (در صورت فعال بودن). (در کد الزام سخت وجود ندارد، اما توصیه می‌شود)</span>
<span class="lang-en">L2TP password (when enabled). (Not strictly enforced, but recommended).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_cisco</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال‌سازی Cisco برای کاربر. پیش‌فرض: false</span>
<span class="lang-en">Enable Cisco for user. Default: false</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">cisco_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز Cisco (در صورت فعال بودن).</span>
<span class="lang-en">Cisco password (when enabled).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_wg1</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال‌سازی WireGuard (wg1). پیش‌فرض: false</span>
<span class="lang-en">Enable WireGuard (wg1). Default: false</span>
</div>
</div>
</div>
</div>
<div class="mt-8 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50/40 dark:bg-night-800/30">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-2">
<span class="lang-fa">نکات مهم</span>
<span class="lang-en">Important Notes</span>
</h4>
<p class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">
<span class="lang-fa">در حالت Bulk نام کاربری‌ها به‌صورت رند ساخته می‌شوند. در پاسخ، لیست کاربران ساخته‌شده برمی‌گردد و همگام‌سازی سنگین با نودها در پس‌زمینه انجام می‌شود.</span>
<span class="lang-en">In bulk mode usernames are random. Response includes created users; heavy node sync runs in background.</span>
</p>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ساخت تکی با تاریخ ثابت</span>
<span class="lang-en">Single create (fixed date)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "username": "test_user",
  "max_clients": 2,
  "activation_type": "fixed_date",
  "expiry_date_str": "2026-12-31",
  "data_limit": 50,
  "data_limit_unit": "GB",
  "enable_wg1": true
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Users created successfully.",
  "created_users": [
    "test_user"
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ساخت گروهی (Bulk)</span>
<span class="lang-en">Bulk create</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "bulk_count": 3,
  "activation_type": "flexible_days",
  "pending_activation_days": 30,
  "enable_l2tp": true,
  "l2tp_password": "P@ss1234"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Users created successfully.",
  "created_users": [
    "user1234",
    "user5678",
    "user9012"
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای ورودی (بدون username در حالت تکی)</span>
<span class="lang-en">Input error (missing username)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "max_clients": 1
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Username is required."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section class="mb-20" id="users-get">
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">دریافت اطلاعات کامل کاربر + وضعیت آنلاین + ترافیک + پروتکل‌ها (OpenVPN/L2TP/Cisco/WireGuard) و لیست سرورهای مربوط. اگر کلید sub-admin باشد فقط به کاربران خودش دسترسی دارد.</span>
<span class="lang-en">Get full user details + online status + traffic + protocols (OpenVPN/L2TP/Cisco/WireGuard) and related server lists. Sub-admin keys can access only their own users.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (با محدودیت مالکیت).</span>
<span class="lang-en">Access: main_admin and sub_admin (ownership restricted).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت اطلاعات کاربر</span>
<span class="lang-en">Get user info</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "username": "test_user",
  "is_active": true,
  "is_online": false,
  "active_connections": 0,
  "data_limit": 50,
  "data_limit_unit": "GB",
  "total_traffic_bytes": 123456,
  "openvpn_servers": [
    {
      "name": "Main Server",
      "is_tunnel": false
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای عدم دسترسی/عدم وجود کاربر</span>
<span class="lang-en">Not found / permission denied</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای نبودن API Key</span>
<span class="lang-en">Missing API key error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "API key is missing"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-20" id="users-edit">
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-put">PUT</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ویرایش کاربر. ورودی‌ها به منطق مرکزی به‌صورت فرم‌گونه تبدیل می‌شوند. این اندپوینت هم <code>nodes</code> و هم نام قدیمی‌تر <code>allowed_nodes</code> را می‌پذیرد. همچنین <code>expiry_date_str</code> به‌عنوان ورودی قدیمی پشتیبانی می‌شود.</span>
<span class="lang-en">Edit a user. Input is converted into the internal update logic (form-like). Accepts both <code>nodes</code> and legacy <code>allowed_nodes</code>. Also supports legacy <code>expiry_date_str</code>.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (مالکیت کاربر چک می‌شود).</span>
<span class="lang-en">Access: main_admin and sub_admin (ownership checked).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">max_clients</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">حداکثر اتصال همزمان.</span>
<span class="lang-en">Max simultaneous clients.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">data_limit</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف ترافیک عددی.</span>
<span class="lang-en">Traffic limit number.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">data_limit_unit</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">واحد سقف ترافیک (GB/MB/...).</span>
<span class="lang-en">Traffic limit unit (GB/MB/...).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">notes</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">یادداشت.</span>
<span class="lang-en">Notes.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">reset_activation</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">ریست فعال‌سازی/انقضا طبق منطق داخلی (رفتار دقیق در منطق مرکزی).</span>
<span class="lang-en">Reset activation/expiry via internal logic.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">activation_type</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">fixed_date یا flexible_days (تغییر حالت فعال‌سازی).</span>
<span class="lang-en">fixed_date or flexible_days (change activation mode).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">pending_activation_days</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">روزهای فعال‌سازی بعد از اولین اتصال (برای flexible_days).</span>
<span class="lang-en">Days after first connection (for flexible_days).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_date</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">تاریخ انقضا (YYYY-MM-DD).</span>
<span class="lang-en">Expiry date (YYYY-MM-DD).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_date_str</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">ورودی قدیمی تاریخ انقضا (اگر expiry_date نبود).</span>
<span class="lang-en">Legacy expiry date input (if expiry_date not provided).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">nodes</div>
<div class="text-xs text-slate-500">Array[String|Int]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">لیست نودهای مجاز.</span>
<span class="lang-en">Allowed nodes list.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">allowed_nodes</div>
<div class="text-xs text-slate-500">Array[String|Int]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام قدیمی پارامتر nodes (اگر nodes ارسال نشد).</span>
<span class="lang-en">Legacy name for nodes (used if nodes not present).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_l2tp</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال/غیرفعال کردن L2TP.</span>
<span class="lang-en">Enable/disable L2TP.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">l2tp_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز L2TP.</span>
<span class="lang-en">L2TP password.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_cisco</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال/غیرفعال کردن Cisco.</span>
<span class="lang-en">Enable/disable Cisco.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">cisco_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز Cisco.</span>
<span class="lang-en">Cisco password.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">enable_wg1</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال/غیرفعال کردن WireGuard (wg1).</span>
<span class="lang-en">Enable/disable WireGuard (wg1).</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ویرایش سقف ترافیک و تعداد اتصال</span>
<span class="lang-en">Update data limit and max clients</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "max_clients": 3,
  "data_limit": 100,
  "data_limit_unit": "GB",
  "notes": "VIP user"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "User updated successfully."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">فعال‌سازی WireGuard و محدود کردن نودها</span>
<span class="lang-en">Enable WireGuard and restrict nodes</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "enable_wg1": true,
  "nodes": [
    "main",
    "node_1"
  ]
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "User updated successfully."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای بدنه خالی</span>
<span class="lang-en">Empty body error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Request body must be JSON and not empty"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="space-y-6" id="users-actions">
<div class="flex items-center gap-3">
<h2 class="text-2xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عملیات کاربران</span>
<span class="lang-en">User Actions</span>
</h2>
<span class="text-xs font-mono px-2 py-1 rounded-full bg-slate-100 dark:bg-night-800 text-slate-600 dark:text-slate-300">API Key</span>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;/toggle</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">فعال/غیرفعال کردن کاربر (روی تمام پروتکل‌ها اثر می‌گذارد).</span>
<span class="lang-en">Enable/disable a user (affects all protocols).</span>
</p>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">تغییر وضعیت کاربر</span>
<span class="lang-en">Toggle user</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/toggle" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "User toggled"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم وجود/عدم دسترسی</span>
<span class="lang-en">Not found / permission denied</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user/toggle" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای نبودن API Key</span>
<span class="lang-en">Missing API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/toggle" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "API key is missing"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div><div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;/revoke</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">باطل‌سازی توکن اشتراک و صدور/ساخت مجدد گواهی (کار سنگین در پس‌زمینه). لینک اشتراک قدیمی فوراً باطل می‌شود و لینک جدید در پاسخ برمی‌گردد.</span>
<span class="lang-en">Revoke subscription token and re-issue certificate (heavy task in background). Old subscription link is invalidated instantly; new link is returned.</span>
</p>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">شروع revoke و دریافت لینک جدید</span>
<span class="lang-en">Start revoke and get new link</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/revoke" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Token revoked instantly. Certificate generation running in background.",
  "new_subscription_url": "http://YOUR_PANEL_DOMAIN/sub/test_user?token=NEW..."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin به کاربر دیگر</span>
<span class="lang-en">Sub-admin cannot revoke other users</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/other_user/revoke" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">کاربر ناموجود</span>
<span class="lang-en">User not found</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user/revoke" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div><div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;/reset_traffic</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ریست ترافیک کاربر (download/upload) به صفر. در صورت امکان ممکن است کاربر دوباره فعال شود (در پاسخ فیلد <code>user_re_enabled</code>).</span>
<span class="lang-en">Reset user's traffic (download/upload) to zero. May re-enable the user when possible (see <code>user_re_enabled</code>).</span>
</p>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ریست ترافیک</span>
<span class="lang-en">Reset traffic</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/reset_traffic" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Traffic reset for 'test_user'.",
  "user_re_enabled": false
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی/عدم وجود</span>
<span class="lang-en">Not found / permission denied</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user/reset_traffic" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای داخلی نمونه</span>
<span class="lang-en">Sample server error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/reset_traffic" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "An internal error occurred."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div></section>
<section class="space-y-6" id="users-delete">
<div class="flex items-center gap-3">
<h2 class="text-2xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">حذف کاربر</span>
<span class="lang-en">Delete User</span>
</h2>
<span class="text-xs font-mono px-2 py-1 rounded-full bg-slate-100 dark:bg-night-800 text-slate-600 dark:text-slate-300">API Key</span>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-delete">DELETE</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">حذف کاربر. اگر کلید sub-admin باشد فقط می‌تواند کاربران خودش را حذف کند.</span>
<span class="lang-en">Delete a user. Sub-admin keys can delete only their own users.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (مالکیت چک می‌شود).</span>
<span class="lang-en">Access: main_admin and sub_admin (ownership checked).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">حذف موفق</span>
<span class="lang-en">Successful delete</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "User 'test_user' deleted successfully."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم وجود/عدم دسترسی</span>
<span class="lang-en">Not found / permission denied</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر/غیرفعال</span>
<span class="lang-en">Invalid/inactive API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="space-y-6" id="users-sub">
<div class="flex items-center gap-3">
<h2 class="text-2xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">لینک اشتراک کاربر</span>
<span class="lang-en">User Subscription URL</span>
</h2>
<span class="text-xs font-mono px-2 py-1 rounded-full bg-slate-100 dark:bg-night-800 text-slate-600 dark:text-slate-300">API Key</span>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;/sub</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">دریافت لینک اشتراک (Subscription URL) کاربر. برای sub-admin فقط کاربران خودش قابل مشاهده است.</span>
<span class="lang-en">Get user's subscription URL. Sub-admin keys can access only their own users.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (مالکیت چک می‌شود).</span>
<span class="lang-en">Access: main_admin and sub_admin (ownership checked).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت لینک</span>
<span class="lang-en">Get subscription URL</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/sub" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "sub_url": "http://YOUR_PANEL_DOMAIN/sub/test_user?token=..."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">کاربر ناموجود/عدم دسترسی</span>
<span class="lang-en">Not found / permission denied</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/unknown_user/sub" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای نبودن API Key</span>
<span class="lang-en">Missing API key error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/sub" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "API key is missing"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="space-y-6" id="users-ovpn">
<div class="flex items-center gap-3">
<h2 class="text-2xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">اطلاعات کامل اتصال (OpenVPN/L2TP/Cisco/WireGuard)</span>
<span class="lang-en">All Connection Info (OpenVPN/L2TP/Cisco/WireGuard)</span>
</h2>
<span class="text-xs font-mono px-2 py-1 rounded-full bg-slate-100 dark:bg-night-800 text-slate-600 dark:text-slate-300">API Key</span>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/users/&lt;username&gt;/all_ovpn_links</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">دریافت همه لینک‌های دانلود/کانفیگ OpenVPN مربوط به کاربر. برای sub-admin فقط کاربران خودش.</span>
<span class="lang-en">Get all OpenVPN download/config links for a user. Sub-admin keys can access only their own users.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: main_admin و sub_admin (مالکیت چک می‌شود).</span>
<span class="lang-en">Access: main_admin and sub_admin (ownership checked).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username (path)</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری داخل URL.</span>
<span class="lang-en">Username in path.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت لینک‌ها</span>
<span class="lang-en">Get links</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/all_ovpn_links" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "username": "test_user",
  "links": [
    {
      "name": "main_udp",
      "url": "http://YOUR_PANEL_DOMAIN/download/test_user/main_udp.ovpn"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin به کاربر دیگر</span>
<span class="lang-en">Sub-admin cannot access other users</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/other_user/all_ovpn_links" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "User not found or permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/users/test_user/all_ovpn_links" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="nodes">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-emerald-500 shadow-sm shadow-emerald-500/10">
<i class="fa-solid fa-server text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">مدیریت نودها</span><span class="lang-en">Node Management</span>
</h2>
<p class="text-slate-500 dark:text-slate-400 text-sm mt-1">
<span class="lang-fa">کنترل سرورهای فرعی و زیرساخت (Async Provisioning)</span><span class="lang-en">Manage slave servers and infrastructure (Async Provisioning)</span>
</p>
</div>
</div>
<div class="bg-red-50 dark:bg-red-900/20 border-s-4 border-red-500 p-4 md:p-6 rounded-xl mb-10 flex items-start gap-4 shadow-sm">
<div class="p-2 bg-red-100 dark:bg-red-900/40 rounded-lg text-red-600 flex-shrink-0">
<i class="fa-solid fa-shield-halved text-xl"></i>
</div>
<div>
<h5 class="font-bold text-red-800 dark:text-red-200 text-sm md:text-base mb-1">
<span class="lang-fa">سطح دسترسی: ادمین اصلی</span><span class="lang-en">Access Level: Main Admin Only</span>
</h5>
<p class="text-xs md:text-sm text-red-600 dark:text-red-300 leading-relaxed">
<span class="lang-fa">مدیریت نودها فقط با <strong>کلید ادمین اصلی</strong> امکان‌پذیر است. نمایندگان (Sub-Admins) دسترسی به این بخش ندارند.</span>
<span class="lang-en">Node management is restricted to the <strong>Main Admin Key</strong>. Sub-Admins do not have access to infrastructure settings.</span>
</p>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="nodes-list">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/nodes</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست تمام نودها به‌همراه وضعیت و ترافیک تجمیعی (از حافظه/STATE).</span>
<span class="lang-en">List all nodes including status and aggregated traffic (from memory/STATE).</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: در کد فعلی فقط API Key لازم است (محدودیت نقش برای این متد اعمال نشده).</span>
<span class="lang-en">Access: API key required only (no role restriction in current code).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">لیست نودها</span>
<span class="lang-en">List nodes</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "nodes": [
    {
      "id": 1,
      "name": "Node A",
      "ip_address": "1.2.3.4",
      "status": "active",
      "total_traffic_bytes": 123456
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">با کلید sub-admin (در کد مجاز است)</span>
<span class="lang-en">With sub-admin key (allowed by code)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "nodes": [
    {
      "id": 1,
      "name": "Node A",
      "status": "active"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="nodes-create">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/nodes</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ایجاد نود جدید و شروع نصب/Provision در پس‌زمینه (پاسخ 202). این متد فقط برای main_admin مجاز است.</span>
<span class="lang-en">Create a new node and start provisioning in background (returns 202). Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">name</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام نمایشی نود.</span>
<span class="lang-en">Node display name.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">ip_address</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">آی‌پی نود.</span>
<span class="lang-en">Node IP address.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">ssh_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پسورد SSH نود.</span>
<span class="lang-en">Node SSH password.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">openvpn_port</div>
<div class="text-xs text-slate-500">Integer|String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت OpenVPN. پیش‌فرض: 1194</span>
<span class="lang-en">OpenVPN port. Default: 1194</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">protocol</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">udp یا tcp. پیش‌فرض: udp</span>
<span class="lang-en">udp or tcp. Default: udp</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">sync_all_users</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">اگر true باشد همه کاربران با نود همگام‌سازی می‌شوند.</span>
<span class="lang-en">If true, sync all users to the node.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">show_main_config</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نمایش/استفاده از کانفیگ سرور اصلی در نود. پیش‌فرض: true</span>
<span class="lang-en">Show/use main server config on node. Default: true</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">communication_method</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">روش ارتباط: wireguard (پیش‌فرض) یا direct_tcp.</span>
<span class="lang-en">Communication method: wireguard (default) or direct_tcp.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">cisco_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت سرویس Cisco روی نود.</span>
<span class="lang-en">Cisco service port on node.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">main_server_endpoint</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">آدرس سرور اصلی برای برخی سناریوها (مثلاً direct_tcp).</span>
<span class="lang-en">Main server endpoint for some scenarios (e.g., direct_tcp).</span>
</div>
</div>
</div>
</div>
<div class="mt-8 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50/40 dark:bg-night-800/30">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-2">
<span class="lang-fa">نکات مهم</span>
<span class="lang-en">Important Notes</span>
</h4>
<p class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">
<span class="lang-fa">در صورت موفقیت، پاسخ 202 به‌همراه node_id برمی‌گردد و نصب در پس‌زمینه ادامه پیدا می‌کند. اگر اتصال SSH تست اولیه را پاس نکند، خطا می‌گیرید.</span>
<span class="lang-en">On success returns 202 with node_id; provisioning continues in background. SSH preflight failures return errors.</span>
</p>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ایجاد نود و شروع نصب</span>
<span class="lang-en">Create node and start provisioning</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "name": "Node A",
  "ip_address": "1.2.3.4",
  "ssh_password": "pass",
  "openvpn_port": 1194,
  "protocol": "udp",
  "sync_all_users": false,
  "communication_method": "wireguard"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Node created and installation started in background.",
  "node_id": 1
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای دسترسی (کلید sub-admin)</span>
<span class="lang-en">Permission denied (sub-admin key)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "name": "Node B",
  "ip_address": "2.3.4.5",
  "ssh_password": "pass"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای کمبود فیلدهای اجباری</span>
<span class="lang-en">Missing required fields</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/nodes" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "name": "Node C"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Missing required fields: name, ip_address, ssh_password"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="nodes-edit">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-put">PUT</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/nodes/&lt;node_id&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ویرایش نود و تریگر همگام‌سازی فقط برای سرویس‌هایی که تغییر کرده‌اند. (در کد فعلی محدودیت نقش برای PUT/DELETE نود اعمال نشده — فقط API key لازم است.)</span>
<span class="lang-en">Edit node and trigger sync only for changed services. (Current code does not restrict role for node PUT/DELETE — only API key is required.)</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: API key لازم (بدون محدودیت نقش در کد فعلی).</span>
<span class="lang-en">Access: API key required (no role restriction in current code).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">node_id (path)</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه نود.</span>
<span class="lang-en">Node id.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">name</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام جدید نود.</span>
<span class="lang-en">New node name.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">ip_address</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">آی‌پی جدید نود.</span>
<span class="lang-en">New node IP.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">openvpn_port</div>
<div class="text-xs text-slate-500">Integer|String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت OpenVPN.</span>
<span class="lang-en">OpenVPN port.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">protocol</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">udp یا tcp.</span>
<span class="lang-en">udp or tcp.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">cisco_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت Cisco.</span>
<span class="lang-en">Cisco port.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">wg1_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت WireGuard (wg1).</span>
<span class="lang-en">WireGuard port (wg1).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">ssh_password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">اگر ارسال شود، پسورد SSH ذخیره/آپدیت می‌شود.</span>
<span class="lang-en">If provided, updates stored SSH password.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ویرایش پورت و پروتکل</span>
<span class="lang-en">Update port and protocol</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/nodes/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "openvpn_port": 443,
  "protocol": "tcp"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Node updated. Sync triggered only for changed services."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ویرایش نام و آی‌پی</span>
<span class="lang-en">Update name and IP</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/nodes/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "name": "Node A (EU)",
  "ip_address": "5.6.7.8"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Node updated. Sync triggered only for changed services."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">نود ناموجود</span>
<span class="lang-en">Node not found</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/nodes/999999" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "protocol": "udp"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Node not found"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300" id="nodes-delete">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-delete">DELETE</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/nodes/&lt;node_id&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">حذف نود (غیرهمزمان). اگر حذف قبلاً شکست خورده باشد، حالت force فعال می‌شود. اگر حذف در جریان باشد کد 423 برمی‌گردد. (نکته: در کد اگر نود وجود نداشته باشد پیام success:true ولی status=404 برمی‌گردد.)</span>
<span class="lang-en">Delete node (async). Force mode is used if previous deletion failed. Returns 423 if deletion is already in progress. (Note: if node not found, code returns success:true with HTTP 404.)</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: API key لازم (بدون محدودیت نقش در کد فعلی).</span>
<span class="lang-en">Access: API key required (no role restriction in current code).</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">node_id (path)</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه نود.</span>
<span class="lang-en">Node id.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">شروع حذف</span>
<span class="lang-en">Start deletion</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/nodes/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Deletion started"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">حذف در حال انجام (423)</span>
<span class="lang-en">Deletion in progress (423)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/nodes/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Deletion in progress..."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">نود ناموجود (404 با success:true)</span>
<span class="lang-en">Node not found (404 with success:true)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/nodes/999999" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Node not found"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="ports">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-orange-500 shadow-sm shadow-orange-500/10">
<i class="fa-solid fa-ethernet text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">مدیریت پورت‌ها</span><span class="lang-en">Port Management</span>
</h2>
<p class="text-slate-500 dark:text-slate-400 text-sm mt-1">
<span class="lang-fa">مدیریت پورت‌های ورودی (TCP/UDP) و اختصاص به سرورها</span><span class="lang-en">Manage inbound ports (TCP/UDP) and server assignments</span>
</p>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="ports-list">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/public/ports</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست پورت‌های پیش‌فرض و پورت‌های سفارشی اختصاص‌داده‌شده به سرورها. فقط main_admin.</span>
<span class="lang-en">List default ports and custom port assignments per server. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت پورت‌ها</span>
<span class="lang-en">Get ports</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "default_ports": [
    {
      "is_default": true,
      "name": "Main Server",
      "public_port": 1194,
      "protocol": "udp"
    }
  ],
  "custom_ports": [
    {
      "port_id": 2,
      "server_identifier": "node_1",
      "public_port": 443,
      "protocol": "tcp",
      "server_name": "Node: Node A"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی با کلید sub-admin</span>
<span class="lang-en">Denied with sub-admin key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div><div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="ports-servers">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/public/servers_for_ports</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست سرورها (Main + Nodeها) برای مدیریت پورت‌ها. خروجی شامل idهای لازم مثل <code>main</code> و <code>node_&lt;id&gt;</code> است. فقط main_admin.</span>
<span class="lang-en">List servers (Main + Nodes) for port management. Returns IDs like <code>main</code> and <code>node_&lt;id&gt;</code>. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت لیست سرورها</span>
<span class="lang-en">Get servers list</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/servers_for_ports" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "servers": [
    {
      "id": "main",
      "name": "Main Server"
    },
    {
      "id": "node_1",
      "name": "Node: Node A"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی با کلید sub-admin</span>
<span class="lang-en">Denied with sub-admin key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/servers_for_ports" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای داخلی نمونه</span>
<span class="lang-en">Sample internal error</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/servers_for_ports" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "An internal error occurred."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="ports-create">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/public/ports</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ایجاد/ثبت پورت و اختصاص آن به سرورهای انتخاب‌شده (<code>server_ids</code>). اگر پورت/پروتکل قبلاً وجود داشته باشد، فقط Assignmentها اضافه می‌شوند. فقط main_admin.</span>
<span class="lang-en">Create/register a port and assign it to selected servers (<code>server_ids</code>). If the port/protocol already exists, only assignments are added. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">public_port</div>
<div class="text-xs text-slate-500">Integer|String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت عمومی.</span>
<span class="lang-en">Public port.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">protocol</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">udp یا tcp.</span>
<span class="lang-en">udp or tcp.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">server_ids</div>
<div class="text-xs text-slate-500">Array[String]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">لیست سرورها: مانند main, node_1, node_2 ...</span>
<span class="lang-en">Server identifiers like main, node_1, node_2 ...</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ایجاد پورت TCP روی main و یک نود</span>
<span class="lang-en">Create TCP port on main and a node</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "public_port": 443,
  "protocol": "tcp",
  "server_ids": [
    "main",
    "node_1"
  ]
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Port configured on selected servers."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای ورودی (server_ids خالی)</span>
<span class="lang-en">Input error (empty server_ids)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "public_port": 443,
  "protocol": "tcp",
  "server_ids": []
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Missing info."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/public/ports" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "public_port": 443,
  "protocol": "tcp",
  "server_ids": [
    "main"
  ]
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300" id="ports-delete">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-delete">DELETE</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/public/ports/assignment</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">حذف یک assignment از پورت روی یک سرور مشخص. ورودی شامل <code>port_id</code> و <code>server_identifier</code> است. فقط main_admin.</span>
<span class="lang-en">Delete a port assignment on a specific server. Input includes <code>port_id</code> and <code>server_identifier</code>. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">port_id</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه رکورد PortProtocol.</span>
<span class="lang-en">PortProtocol id.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">server_identifier</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه سرور: main یا node_&lt;id&gt;.</span>
<span class="lang-en">Server id: main or node_&lt;id&gt;.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">حذف assignment از یک نود</span>
<span class="lang-en">Delete assignment from a node</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/public/ports/assignment" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "port_id": 2,
  "server_identifier": "node_1"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Port assignment deleted."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای نبودن اطلاعات</span>
<span class="lang-en">Missing info</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/public/ports/assignment" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "port_id": 2
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Missing info."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/public/ports/assignment" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "port_id": 2,
  "server_identifier": "main"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="subadmins">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-purple-500 shadow-sm shadow-purple-500/10">
<i class="fa-solid fa-users-gear text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">مدیریت نمایندگان</span><span class="lang-en">Sub-Admin Management</span>
</h2>
<p class="text-slate-500 dark:text-slate-400 text-sm mt-1">
<span class="lang-fa">فقط ادمین اصلی</span><span class="lang-en">Main Admin Only</span>
</p>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="subadmins-list">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/sub_admins</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست تمام نمایندگان (Sub-Admins). فقط main_admin.</span>
<span class="lang-en">List all sub-admins. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">لیست نمایندگان</span>
<span class="lang-en">List sub-admins</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "sub_admins": [
    {
      "id": 1,
      "username": "sa1",
      "subscription_port": 2096,
      "panel_port": 8888,
      "max_users_limit": 100,
      "total_usage_quota_gb": 500
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="subadmins-create">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/sub_admins</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ایجاد نماینده جدید با اعتبارسنجی پورت‌ها و تنظیم فایروال. فقط main_admin.</span>
<span class="lang-en">Create a new sub-admin with port validation and firewall setup. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری نماینده.</span>
<span class="lang-en">Sub-admin username.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز نماینده.</span>
<span class="lang-en">Sub-admin password.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">subscription_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت سرویس Subscription نماینده. اگر ارسال شود باید آزاد باشد.</span>
<span class="lang-en">Sub-admin subscription port. Must be available if provided.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">panel_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت پنل نماینده. اگر ارسال شود باید آزاد باشد.</span>
<span class="lang-en">Sub-admin panel port. Must be available if provided.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">max_users_limit</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف تعداد کاربران نماینده.</span>
<span class="lang-en">Max users limit.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">total_usage_quota_gb</div>
<div class="text-xs text-slate-500">Integer|Float</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف سهمیه مصرف ترافیک نماینده (GB).</span>
<span class="lang-en">Total usage quota (GB).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_date</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">تاریخ انقضای نماینده (YYYY-MM-DD).</span>
<span class="lang-en">Expiry date (YYYY-MM-DD).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">is_active</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال/غیرفعال بودن نماینده. پیش‌فرض: true</span>
<span class="lang-en">Enable/disable sub-admin. Default: true</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">notes</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">یادداشت نماینده.</span>
<span class="lang-en">Sub-admin notes.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">allowed_servers</div>
<div class="text-xs text-slate-500">Array[Object|String]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">لیست سرورهای مجاز برای نماینده (به‌صورت JSON ذخیره می‌شود).</span>
<span class="lang-en">Allowed servers list (stored as JSON).</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ساخت نماینده با پورت‌ها</span>
<span class="lang-en">Create sub-admin with ports</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "username": "sa1",
  "password": "pass",
  "subscription_port": 2096,
  "panel_port": 8888,
  "max_users_limit": 100,
  "total_usage_quota_gb": 500,
  "is_active": true,
  "notes": "Reseller A",
  "allowed_servers": [
    "main",
    "node_1"
  ]
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Sub-admin created successfully and ports configured.",
  "sub_admin": {
    "id": 1,
    "username": "sa1"
  }
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای تکراری بودن نام کاربری</span>
<span class="lang-en">Username already exists</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "username": "sa1",
  "password": "pass"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "A sub-admin with this username already exists."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای ورودی (بدون پسورد)</span>
<span class="lang-en">Input error (missing password)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "username": "sa2"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Username and password are required."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm" id="subadmins-edit">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-put">PUT</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/sub_admins/&lt;sub_admin_id&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ویرایش نماینده با منطق مدیریت پورت‌ها (در صورت تغییر) و به‌روزرسانی فایروال. فقط main_admin.</span>
<span class="lang-en">Edit sub-admin with port management (if changed) and firewall updates. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">sub_admin_id (path)</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه نماینده.</span>
<span class="lang-en">Sub-admin id.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">username</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">نام کاربری جدید.</span>
<span class="lang-en">New username.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">password</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">رمز جدید.</span>
<span class="lang-en">New password.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">subscription_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت Subscription جدید (باید آزاد باشد).</span>
<span class="lang-en">New subscription port (must be available).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">panel_port</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">پورت پنل جدید (باید آزاد باشد).</span>
<span class="lang-en">New panel port (must be available).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">max_users_limit</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف تعداد کاربران.</span>
<span class="lang-en">Max users limit.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">total_usage_quota_gb</div>
<div class="text-xs text-slate-500">Integer|Float</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">سقف سهمیه ترافیک (GB).</span>
<span class="lang-en">Total usage quota (GB).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">expiry_date</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">تاریخ انقضا (YYYY-MM-DD).</span>
<span class="lang-en">Expiry date (YYYY-MM-DD).</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">is_active</div>
<div class="text-xs text-slate-500">Boolean</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">فعال/غیرفعال بودن.</span>
<span class="lang-en">Active flag.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">notes</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">یادداشت.</span>
<span class="lang-en">Notes.</span>
</div>
</div>
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">allowed_servers</div>
<div class="text-xs text-slate-500">Array[Object|String]</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400">Optional</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">لیست سرورهای مجاز.</span>
<span class="lang-en">Allowed servers list.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ویرایش سقف کاربران و سهمیه</span>
<span class="lang-en">Update limits and quota</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "max_users_limit": 200,
  "total_usage_quota_gb": 1000,
  "notes": "Upgraded"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Sub-admin updated successfully.",
  "sub_admin": {
    "id": 1
  }
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">تغییر پورت‌ها (با اعتبارسنجی)</span>
<span class="lang-en">Change ports (validated)</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "subscription_port": 2097,
  "panel_port": 8890
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Sub-admin updated successfully.",
  "sub_admin": {
    "id": 1
  }
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">نماینده ناموجود</span>
<span class="lang-en">Sub-admin not found</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X PUT "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/999999" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "notes": "x"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Sub-admin not found"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm" id="subadmins-reset">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/sub_admins/&lt;sub_admin_id&gt;/reset_usage</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">ریست مصرف ترافیک نماینده به صفر و تلاش برای فعال‌سازی مجدد کاربران نماینده. فقط main_admin.</span>
<span class="lang-en">Reset sub-admin total usage to zero and attempt to re-enable their users. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">sub_admin_id (path)</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه نماینده.</span>
<span class="lang-en">Sub-admin id.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">ریست موفق</span>
<span class="lang-en">Successful reset</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1/reset_usage" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Total data usage reset successfully. 5 user(s) were re-enabled."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">نماینده ناموجود</span>
<span class="lang-en">Sub-admin not found</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/999999/reset_usage" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Sub-admin not found."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1/reset_usage" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300" id="subadmins-delete">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-delete">DELETE</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/sub_admins/&lt;sub_admin_id&gt;</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">حذف نماینده و تمام کاربران وابسته با منطق مرکزی. فقط main_admin.</span>
<span class="lang-en">Delete a sub-admin and all their users via central logic. Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">sub_admin_id (path)</div>
<div class="text-xs text-slate-500">Integer</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">شناسه نماینده.</span>
<span class="lang-en">Sub-admin id.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">حذف نماینده</span>
<span class="lang-en">Delete sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "Sub-admin deleted successfully."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">نماینده ناموجود</span>
<span class="lang-en">Not found</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/999999" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Sub-admin not found"
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X DELETE "http://YOUR_PANEL_DOMAIN/api/v1/sub_admins/1" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="server-settings">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-yellow-500 shadow-sm shadow-yellow-500/10">
<i class="fa-solid fa-gears text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">تنظیمات سرور</span><span class="lang-en">Server Settings</span>
</h2>
<p class="text-slate-500 dark:text-slate-400 text-sm mt-1">
<span class="lang-fa">مدیریت تنظیمات هسته VPN (مانند کلیدهای امنیتی)</span><span class="lang-en">Manage Core VPN Settings (Security Keys)</span>
</p>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-8" id="settings-get">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/server_settings</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">دریافت تنظیمات عمومی سرور (فعلاً PSK). فقط main_admin.</span>
<span class="lang-en">Get server settings (currently PSK). Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت PSK</span>
<span class="lang-en">Get PSK</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/server_settings" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "settings": {
    "ipsec_psk": "EylanPanelKey123"
  }
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/server_settings" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/server_settings" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="settings-ipsec">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-post">POST</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/update_ipsec_psk</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">به‌روزرسانی PSK برای IPsec روی سرور اصلی و تلاش برای اعمال روی نودها. فقط main_admin. مقدار PSK نباید خالی باشد و نباید شامل کوتیشن دابل (") باشد.</span>
<span class="lang-en">Update IPsec PSK on main server and attempt to apply on nodes. Main-admin only. PSK must be non-empty and must not contain double quotes (").</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<div class="param-card">
<div class="font-mono text-sm font-bold text-slate-700 dark:text-slate-200">new_psk</div>
<div class="text-xs text-slate-500">String</div>
<div><span class="px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">Required</span></div>
<div class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">PSK جدید.</span>
<span class="lang-en">New PSK.</span>
</div>
</div>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">آپدیت PSK</span>
<span class="lang-en">Update PSK</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/update_ipsec_psk" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "new_psk": "MyNewSecurePSK_2026"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "message": "IPsec PSK updated locally and on 2 nodes."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">خطای PSK نامعتبر (خالی یا شامل ")</span>
<span class="lang-en">Invalid PSK (empty or contains ")</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/update_ipsec_psk" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "new_psk": ""
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid PSK. Cannot be empty or contain double quotes."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s -X POST "http://YOUR_PANEL_DOMAIN/api/v1/update_ipsec_psk" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "new_psk": "X"
}'</code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="mb-24 scroll-mt-32" id="bot-api">
<div class="flex items-center gap-4 mb-8">
<div class="w-12 h-12 rounded-2xl bg-white dark:bg-night-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-teal-500 shadow-sm shadow-teal-500/10">
<i class="fa-solid fa-robot text-xl"></i>
</div>
<div>
<h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API مخصوص ربات</span><span class="lang-en">Bot Integration API</span>
</h2>
<p class="text-slate-500 dark:text-slate-400 text-sm mt-1">
<span class="lang-fa">ابزارهای کمکی برای توسعه ربات‌های تلگرام و پنل‌های نمایندگی</span>
<span class="lang-en">Helper tools for Telegram bots and Reseller panels development</span>
</p>
</div>
</div>
<div class="glass-panel rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-300 mb-12" id="bot-servers">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div class="flex items-center gap-3 font-mono text-sm">
<span class="method-badge method-get">GET</span>
<span class="text-slate-700 dark:text-slate-200 font-bold text-xs md:text-sm">/api/v1/public/all_selectable_servers</span>
</div>
<div class="text-xs text-slate-400 font-mono">API Key</div>
</div>
<div class="p-6 md:p-8">
<p class="text-slate-600 dark:text-slate-300 mb-6 leading-loose text-sm md:text-base">
<span class="lang-fa">لیست کامل سرورهای قابل انتخاب برای نمایندگان (برای پر کردن فیلد <code>allowed_servers</code>). فقط main_admin.</span>
<span class="lang-en">Return all selectable servers for sub-admin creation (used for <code>allowed_servers</code>). Main-admin only.</span>
</p>
<div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
<span class="lang-fa">سطح دسترسی: فقط main_admin</span>
<span class="lang-en">Access: main_admin only</span>
</div>
<div class="mb-8">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">پارامترهای ورودی</span>
<span class="lang-en">Input Parameters</span>
</h4>
<div class="param-list space-y-3">
<p class="text-sm text-slate-600 dark:text-slate-400">
<span class="lang-fa">این اندپوینت پارامتر ورودی ندارد (به‌جز هدر <code class="font-mono">X-API-KEY</code> و پارامترهای مسیر).</span>
<span class="lang-en">This endpoint has no input parameters (except <code class="font-mono">X-API-KEY</code> header and path params).</span>
</p>
</div>
</div>
<div class="mt-10">
<h4 class="text-sm font-bold text-slate-900 dark:text-white mb-4">
<span class="lang-fa">مثال‌های cURL (۳ نمونه)</span>
<span class="lang-en">cURL Examples (3)</span>
</h4>
<div class="space-y-6">
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">دریافت لیست سرورها</span>
<span class="lang-en">Get selectable servers</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/all_selectable_servers" \
  -H "X-API-KEY: YOUR_MAIN_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": true,
  "servers": [
    {
      "id": "main",
      "name": "Main Server"
    },
    {
      "id": "node_1",
      "name": "Node: Node A"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">عدم دسترسی sub-admin</span>
<span class="lang-en">Denied for sub-admin</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/all_selectable_servers" \
  -H "X-API-KEY: YOUR_SUB_ADMIN_API_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Permission denied: Main admin API key required."
}</code></pre>
</div>
</div>
</div>
<div class="rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden">
<div class="bg-slate-50/50 dark:bg-night-800/50 p-4 border-b border-slate-200 dark:border-slate-800">
<div class="text-sm font-bold text-slate-900 dark:text-white">
<span class="lang-fa">API Key نامعتبر</span>
<span class="lang-en">Invalid API key</span>
</div>
</div>
<div class="p-4 space-y-5">
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">cURL</h5>
<pre><code class="language-bash">curl -s "http://YOUR_PANEL_DOMAIN/api/v1/public/all_selectable_servers" \
  -H "X-API-KEY: INVALID_KEY" </code></pre>
</div>
<div>
<h5 class="text-xs font-bold text-slate-800 dark:text-slate-200 mb-2">Response</h5>
<pre><code class="language-json">{
  "success": false,
  "message": "Invalid or inactive API key"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<footer class="mt-24 border-t border-slate-200 dark:border-slate-800 pt-12 pb-12 px-4">
<div class="flex flex-col md:flex-row justify-between items-center gap-6 text-center md:text-right">
<div class="flex flex-col items-center md:items-start">
<span class="font-bold text-slate-900 dark:text-white text-lg">OpenVPN Manager Panel</span>
<span class="text-xs text-slate-500 dark:text-slate-400 font-mono mt-1">API Documentation v3.0.0</span>
</div>
<div class="text-xs text-slate-400 dark:text-slate-600 font-mono">
                        © 2025 All rights reserved.
						
                    </div>
</div>
</footer>
</main>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
<script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const html = document.documentElement;
            const body = document.body;
            const themeBtn = document.getElementById('theme-toggle');
            const langBtn = document.getElementById('lang-toggle');

            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
            }
            themeBtn?.addEventListener('click', () => {
                html.classList.toggle('dark');
                localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
            });

            const setLang = (l) => {
                body.setAttribute('data-lang', l);
                html.setAttribute('dir', l === 'fa' ? 'rtl' : 'ltr');
                if(langBtn) langBtn.querySelector('.lang-text').textContent = l === 'fa' ? 'EN' : 'FA';
                localStorage.lang = l;
            };
            setLang(localStorage.lang || 'fa');
            langBtn?.addEventListener('click', () => setLang(body.getAttribute('data-lang') === 'fa' ? 'en' : 'fa'));

            const menuBtn = document.getElementById('mobile-menu-btn');
            const sidebar = document.getElementById('sidebar');
            const closeBtn = document.getElementById('close-sidebar');
            const overlay = document.getElementById('mobile-overlay');

            function toggleMenu(show) {
                if (show) {
                    sidebar.classList.add('mobile-open');
                    overlay.classList.add('active');
                    body.classList.add('menu-open'); // Lock scroll
                } else {
                    sidebar.classList.remove('mobile-open');
                    overlay.classList.remove('active');
                    body.classList.remove('menu-open'); // Unlock scroll
                }
            }

            menuBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMenu(true);
            });

            closeBtn?.addEventListener('click', () => toggleMenu(false));
            overlay?.addEventListener('click', () => toggleMenu(false));

            sidebar?.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 1024) toggleMenu(false);
                });
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');
            
            window.addEventListener('scroll', () => {
                let current = '';
                const scrollPosition = window.scrollY + 200;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    const href = link.getAttribute('href');
                    if (href && href.includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            document.querySelectorAll('pre').forEach(pre => {
                if (pre.parentNode.classList.contains('relative')) return;
                
                const wrapper = document.createElement('div');
                wrapper.className = 'relative group mb-4';
                pre.parentNode.insertBefore(wrapper, pre);
                wrapper.appendChild(pre);
                
                const btn = document.createElement('button');
                btn.className = 'absolute top-2 right-2 p-1.5 rounded-md bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity hover:text-white hover:bg-slate-600';
                btn.innerHTML = '<i class="fa-regular fa-copy"></i>';
                btn.onclick = () => {
                    const code = pre.querySelector('code') ? pre.querySelector('code').innerText : pre.innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        btn.innerHTML = '<i class="fa-solid fa-check text-green-400"></i>';
                        setTimeout(() => btn.innerHTML = '<i class="fa-regular fa-copy"></i>', 2000);
                    });
                };
                wrapper.appendChild(btn);
            });

        });
    </script>
</body>
</html>